!function(global,$,action){"error"===$&&action(function(){return alert("jQuery Undefined"),!1}),"function"!=typeof swal&&action(function(){return alert("sweet-alert Undefined"),!1});var setUp={json:!0,symbolBegin:"\\(\\[",symbolEnd:"\\]\\)",originalOptSwal:!1},store={},swalOpt=function(t){var e={title:t.title||"title",text:t.text||"text",type:t.type||"warning",showCancelButton:t.cancelButton||!0,confirmButtonColor:"#DD6B55",confirmButtonText:t.confirmText||"Yes",cancelButtonText:t.cancelText||"No",closeOnConfirm:!1,closeOnCancel:!1};return"object"==typeof t.extra&&action(function(){$.extend(e,t.extra)}),e},numberFrom=1,alertlightJS=function(t){"object"==typeof t&&$.extend(setUp,t)};alertlightJS.prototype={$set:function(t,e){"object"==typeof t&&$.extend(setUp,t),"function"==typeof e&&e(this)},$post:function(t,e,n){$.post(t,"object"==typeof e?e:{},function(t,o){action(setUp.json?function(){var a;try{a=$.parseJSON(t)}catch(i){a=t}"function"==typeof n?n(a,o):action(function(){"function"==typeof e&&e(a,o)})}:function(){"function"==typeof n?n(t,o):action(function(){"function"==typeof e&&e(t,o)})})})},$get:function(t,e,n){$.get(t,"object"==typeof e?e:{},function(t,o){action(setUp.json?function(){var a;try{a=$.parseJSON(t)}catch(i){a=t}"function"==typeof n?n(a,o):action(function(){"function"==typeof e&&e(a,o)})}:function(){"function"==typeof n?n(t,o):action(function(){"function"==typeof e&&e(t,o)})})})},$swalPost:function(t,e,n){swal(setUp.originalOptSwal?t:swalOpt(t),function(o){"input"===t.type?e(o,function(t,e){alertlightJS.prototype.$post(t.url,"object"==typeof t.input?t.input:{},function(t,n){"function"==typeof e&&action(function(){e(!0,{value:t,status:n},function(t,e,n){action("string"==typeof t&&"string"==typeof e?function(){swal(t,e,"string"==typeof n?n:"success")}:function(){"string"==typeof t&&swal(t)})})})})}):o?alertlightJS.prototype.$post(e.url,"object"==typeof e.input?e.input:{},function(t,e){"function"==typeof n&&action(function(){n(!0,{value:t,status:e},function(t,e,n){action("string"==typeof t&&"string"==typeof e?function(){swal(t,e,"string"==typeof n?n:"success")}:function(){"string"==typeof t&&swal(t)})})})}):"function"==typeof n&&action(function(){n(!1,{},function(t,e,n){action("string"==typeof t&&"string"==typeof e?function(){swal(t,e,"string"==typeof n?n:"error")}:function(){"string"==typeof t&&swal(t)})})})})},$swalGet:function(t,e,n){swal(setUp.originalOptSwal?t:swalOpt(t),function(o){"input"===t.type?e(o,function(t,e){alertlightJS.prototype.$get(t.url,"object"==typeof t.input?t.input:{},function(t,n){"function"==typeof e&&action(function(){e(!0,{value:t,status:n},function(t,e,n){action("string"==typeof t&&"string"==typeof e?function(){swal(t,e,"string"==typeof n?n:"success")}:function(){"string"==typeof t&&swal(t)})})})})}):o?alertlightJS.prototype.$get(e.url,"object"==typeof e.input?e.input:{},function(t,e){"function"==typeof n&&action(function(){n(!0,{value:t,status:e},function(t,e,n){action("string"==typeof t&&"string"==typeof e?function(){swal(t,e,"string"==typeof n?n:"success")}:function(){"string"==typeof t&&swal(t)})})})}):"function"==typeof n&&action(function(){n(!1,{},function(t,e,n){action("string"==typeof t&&"string"==typeof e?function(){swal(t,e,"string"==typeof n?n:"error")}:function(){"string"==typeof t&&swal(t)})})})})},$table:function(t,e,n){$.each(e,function(e,o){var a;n({key:e,value:o},function(t){$.each(t,function(t,e){a+="<td>"+e+"</td>"})}),$("table"+t+" > tbody:last").append("<tr>"+a+"</tr>")})},$num:function(t){return numberFrom=t,this},$foreach:function(reff,value){var text=$(reff).html(),num=numberFrom,numSet=!1,getMatch=function(t,e){var n=setUp.symbolBegin;n+="([_a-zA-Z0-9.]+|[a-z.++]+|[a-z.]+\\[\\d+\\]\\+|math\\[[+-/*_a-zA-Z0-9.]+\\]|[a-zA-Z.]+\\[[_a-zA-Z0-9.]+\\]|[a-zA-Z.]+\\[[_a-zA-Z0-9.]+\\]\\([#-:_a-zA-Z0-9.]+\\))",n+=setUp.symbolEnd;var o;return action("undefined"!=typeof e?function(){o=new RegExp(n,e)}:function(){o=new RegExp(n)}),"undefined"!=typeof t?t.match(o):null};if("undefined"!=typeof $(reff).data("live-cache")||""!=$(reff).data("live-cache")){var cache=$(reff).data("live-cache");void 0!==store[cache]?text=store[cache]:store[cache]=text}$(reff).html(""),action("object"==typeof value?function(){function replace_str(matchs,values){var string=text;return $.each(matchs,function(key,value){var data=getMatch(value)[1];if("num++"===data)string=string.replace(value,num++);else if(/num\[\d+\]\+/.test(data))numSet===!1&&(num=data.match(/num\[(\d+)\]\+/)[1],numSet=!0),string=string.replace(value,num++);else if(/replace\[[_a-zA-Z0-9.]+\]\([ #:_a-zA-Z0-9.]+\)/.test(data)){var getAtt,getResl,getArray=data.match(/replace\[([_a-zA-Z0-9.]+)\]\(([ #:_a-zA-Z0-9.]+)\)/);/([#_a-zA-Z0-9.]+):([ #_a-zA-Z0-9.]+)/.test(getArray[2])?(getAtt=getArray[2].match(/([#_a-zA-Z0-9.]+):([ #_a-zA-Z0-9.]+)/),getResl=values[getArray[1]].replace(getAtt[1],getAtt[2])):(getAtt=getArray[2].match(/([#_a-zA-Z0-9.]+)/),getResl=values[getArray[1]].replace(getAtt[1],"")),string=string.replace(value,getResl)}else if(/numberFormat(\[[_a-zA-Z0-9.]+\]|\[[_a-zA-Z0-9.]+\]\([#-_a-zA-Z0-9.]+\))/.test(data)){var getNumberFormat;/numberFormat(\[[_a-zA-Z0-9.]+\]\([#-_a-zA-Z0-9.]+\))/.test(data)?(getNumberFormat=data.match(/numberFormat\[([_a-zA-Z0-9.]+)\]\(([#-_a-zA-Z0-9.]+)\)/),getNumberFormat=new Intl.NumberFormat(getNumberFormat[2]).format(parseInt(values[getNumberFormat[1]]))):(getNumberFormat=data.match(/numberFormat\[([_a-zA-Z0-9.]+)\]/),getNumberFormat=(new Intl.NumberFormat).format(parseInt(values[getNumberFormat[1]]))),string=string.replace(value,getNumberFormat)}else if(/math\[[+-\/*_a-zA-Z0-9.]+\]/.test(data)){var result=data.match(/math\[([+-\/*_a-zA-Z0-9.]+)\]/),getVal=result[1].match(/([_a-zA-Z0-9.]+)/gi);result=result[1];for(var i=0;i<getVal.length;i++)1!=/[0-9]+/.test(getVal[i])&&(result=result.replace(getVal[i],values[getVal[i]]));string=string.replace(value,eval(result))}else if(/limitText\[[_a-zA-Z0-9.]+\]\([ #:_a-zA-Z0-9.]+\)/.test(data)){var getAtt,getLimitText=data.match(/limitText\[([_a-zA-Z0-9.]+)\]\(([ #:_a-zA-Z0-9.]+)\)/);/([#_a-zA-Z0-9.]+):([ #_a-zA-Z0-9.]+)/.test(getLimitText[2])?(getAtt=getLimitText[2].match(/([#_a-zA-Z0-9.]+):([ #_a-zA-Z0-9.]+)/),getLimitText=values[getLimitText[1]].substring(getAtt[1],getAtt[2])):getLimitText=values[getLimitText[1]].substring(0,getLimitText[2]),string=string.replace(value,getLimitText)}else"undefined"==typeof values[data]||(string=string.replace(value,values[data]))}),string}$.each(value,function(t,e){if("object"!=typeof e)return console.log("$foreach -> not object, data invalid"),!1;if(null===getMatch(text,"gi"))return console.log(getMatch(text,"gi")),!1;var n;n+=replace_str(getMatch(text,"gi"),e),$(reff+":last").append(n)})}:function(){console.log("$foreach -> not object, data invalid")})},$id:function(t){return{click:function(e){$(document).on("click",t,function(){e($(this))})},dblclick:function(e){$(document).on("dblclick",t,function(){e($(this))})},mouseenter:function(e){$(document).on("mouseenter",t,function(){e($(this))})},mouseleave:function(e){$(document).on("mouseleave",t,function(){e($(this))})}}},$sync:function(t){var e=2e3,n=function(){t(),setTimeout(n,e)},o={delay:function(t){return e=t,o},inSecond:function(){return e=1e3*e,o},inMinute:function(){return e=60*e*1e3,o},execute:function(){action("function"==typeof t?function(){return new n}:function(){console.log("sync is not function")})}};return o}},global.alertlightJS=alertlightJS,global.$$=new alertlightJS,global.$alrt=new alertlightJS}("undefined"!=typeof window?window:this,"undefined"!=typeof jQuery?jQuery:"error",function(t){"function"==typeof t&&t()});
